
<!doctype html>
<html>
<head>
    <title>Zoom Virtual Background Generator</title>
    <meta charset="utf-8" />
    <script src="canvas2image.js"></script>
    <script src="https://use.typekit.net/xsl4fab.js" type="text/javascript"></script>
    <script type="text/javascript">/*<![CDATA[*/try{Typekit.load({ async: false });}catch(e){}/*]]>*/</script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>


<div class="doc">
    <h1>Zoom Virtual Background Generator</h1>

    <canvas width="1920" height="1080" id="cvshd"></canvas>
    <canvas width="1600" height="1200" id="cvs"></canvas>

    <p>
        This tool has been created to enable Darden students to generate an approved virtual background to use in classroom Zoom sessions.  
        Your name is intended to be highly visible even when other participants are using a grid like view of the classroom.  
        When using this background please situate yourself in such a way to minimize overlap with the name, which will always stay in a minimal one-third area of the top corner of your screen.
        Note: it does not matter if you use the "Mirror" option within Zoom.  The text will always display correctly to other participants.
    </p>

    <div>
        <p>
            <table>
                <tr>
                    <th>
                        First Name: 
                    </th>
                    <td>
                        <input type="text" id="first" placeholder="firstname" tabindex="1">
                    </td>
                    <td rowspan="2" align="center">
                        <button id="createimage" tabindex="4">Save Image</button>

                        <div id="ratioOptions">
                            <input type="radio" id="optionHD" name="imageStyle" value="HD" checked="checked">
                            <label for="optionHD">HD</label>
                            <input type="radio" id="option43" name="imageStyle" value="43">
                            <label for="option43">4:3</label>
                            <div id="ratioTooltip">Leave the ratio as HD by default.  ONLY choose 4:3 if you are  
                                                   using the lower ratio video in Zoom and your name is being cut off.
                            </div>
                       </div>
                    </td>
                </tr>
                <tr>
                    <th>
                        Last Name:
                    </th>
                    <td>
                        <input type="text" id="last" placeholder="lastname" tabindex="2">
                    </td>
                </tr>
				<tr>
                    <th>
                        Pronouns:
                    </th>
                    <td>
                        <input type="text" id="pronouns" placeholder="pronouns" tabindex="3">
                    </td>
                </tr>
                <tr>
                    <th>
                        Cohort:
                    </th>
                    <td>
                        <select id="cohort">
                            <option value="#0033AB" selected>Blue</option>
                            <option value="#00824A">Green</option>
                            <option value="#AD940D">Gold</option>
                            <option value="#ADABA6">Silver</option>
                            <option value="#C8102E">Red</option>
                            <option value="#FFA500">Orange</option>
                        </select>
                    </td>
                </tr>
            </table>
           
        </p>

    </div>
    
    <div id="imgs" width="800" height="600">
        
    </div>
    <div id="explanation" style="display:none">
        <p>
        After you are happy with your new virtual background use the "Save" button to save it to your local machine. Set it as your virtual background in your Zoom settings. 
        (<a href="https://support.zoom.us/hc/en-us/articles/210707503-Virtual-Background">How do I set a virtual background in Zoom?</a>)
        </p>
    </div>
    <a id="downloadlink" download="zoombackground.jpg" href="">Download Background</a>


    

</div>
<script>
    var canvas, canvashd, ctxorig, ctxhd,
        $createhd, $createorig, $createimage, $optionHD, $option43,
        $imgs, $logo,
        $placeLeft, $placeRight,

        $nameTxt, $first, $last, $pronouns, $background,
        $radialParm;



    function init () {
        canvas = document.getElementById('cvs');
        canvashd = document.getElementById('cvshd');


        ctxorig = canvas.getContext('2d');
        ctxhd = canvashd.getContext('2d');

       
        $createimage = document.getElementById('createimage');
        $optionHD = document.getElementById('optionHD');
        $option43 = document.getElementById('option43');


        $imgs = document.getElementById('imgs');

        $first =document.getElementById('first');
        $last = document.getElementById('last');
        $pronouns = document.getElementById('pronouns');
        $cohort = document.getElementById('cohort');

        $logo = new Image();
        $logo.src = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjIuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxMDcuNiAxMzEuMiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTA3LjYgMTMxLjI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRkZGRkZGO30KCS5zdDF7ZmlsbDojMDAyODU2O30KCS5zdDJ7ZmlsbDojQkM5OTA1O30KCS5zdDN7ZmlsbDojOUNCNkQzO30KPC9zdHlsZT4KPGc+Cgk8Zz4KCQk8cGF0aCBkPSJNMTA2LjUsMXYzNi43YzAsMC4zLDAsMC43LDAsMWMwLDE5LjItMC41LDY1LjUtNTIuNCw5MS4ybC0wLjIsMC4xbC0wLjItMC4xQzEuNywxMDQuMiwxLjIsNTcuOSwxLjIsMzguN2MwLTAuMywwLTAuNywwLTEKCQkJVjFIMTA2LjUgTTEwNy41LDBoLTFIMS4yaC0xdjF2MzYuN3YxYzAsMTgtMC4xLDY1LjgsNTIuOSw5MmwwLjIsMC4xbDAuNCwwLjJsMC40LTAuMmwwLjItMC4xYzUzLTI2LjIsNTIuOS03NCw1Mi45LTkyCgkJCWMwLTAuMiwwLTAuNSwwLTAuN2wwLTAuM1YxTDEwNy41LDBMMTA3LjUsMHoiLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDYuNSwzNy43YzAsMC4zLDAsMC43LDAsMWMwLDE5LjItMC41LDY1LjUtNTIuNCw5MS4ybC0wLjIsMC4xbC0wLjItMC4xQzEuNywxMDQuMiwxLjIsNTcuOSwxLjIsMzguNwoJCQljMC0wLjMsMC0wLjcsMC0xVjFoMTA1LjJWMzcuN3oiLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xMDYuNSwzOC43YzAsMTkuNS0wLjYsNjUuNy01Mi42LDkxLjVsMCwwQzEuOCwxMDQuNCwxLjIsNTguMiwxLjIsMzguN0wxMDYuNSwzOC43eiIvPgoJPC9nPgoJPHJlY3QgeD0iMS4yIiB5PSIxIiBjbGFzcz0ic3QxIiB3aWR0aD0iMTA1LjMiIGhlaWdodD0iMzYuMSIvPgoJPGc+CgkJPHBhdGggZD0iTTUyLjMsNS4zYzAuOSwwLjMsMS45LDIuMSwxLjksMi4xczAuNS0yLjEsMy0yLjJjMi42LTAuMiw2LjUsMS42LDkuNi0wLjhsMS44LDIuN2wxLTAuNmwxLjMsMS4ybC0wLjEsMy45CgkJCWMwLjIsMC43LDAuOSwxLjEsMS42LDEuMmMwLDAsMC4yLTAuNy0wLjEtMS41Yy0wLjYtMS41LTAuNS0yLjcsMC40LTMuNWMwLjIsMC4zLDEuMywwLjYsMS44LDAuNWMtMC4zLDAuOC0wLjUsMS44LTAuMywyLjgKCQkJYzAuMywxLjIsMC4xLDIuNi0wLjYsMy42Yy0wLjcsMC43LTEuNywwLjQtMi40LDBsLTAuNS0wLjJ2MTAuMWMwLjIsMC41LDAuNCwwLjksMC44LDEuMmMwLjktMC41LDAuMi0xLjgsMC40LTIuNwoJCQljMC0wLjUsMC40LTEuMSwwLjctMS41YzAuNSwwLjIsMS43LDAuNSwxLjgsMC41Yy0wLjEsMC40LTAuNiwxLjItMC41LDJjMC4zLDIuNy0wLjgsMy45LTEuNCw0LjFjLTAuOCwwLjItMS41LTAuMy0yLjEtMC42djUuMQoJCQlsLTE0LjEtMC4zYy0wLjEsMC42LTAuMiwxLjktMi41LDEuOWMtMi4zLDAtMi42LTEuNS0yLjctMS44Yy00LjksMC0xNC41LTAuMy0xNC41LTAuM3YtNC41bDAsMGMtMC41LDAuMy0xLDAuOC0xLjcsMC41CgkJCWMtMC43LTAuMy0xLjItMS4zLTEuMy0yLjVjLTAuMS0xLjIsMC40LTIuNi0wLjYtMy41YzAuMy0wLjIsMC43LTAuMiwxLjEtMC4zYzAuNCwwLDEtMC4yLDEtMC4yYzAuOCwxLDAuMywyLjgsMC4zLDMuMwoJCQljMCwwLjUsMC4yLDAuOCwwLjIsMC44YzAuNC0wLjMsMC45LTAuNSwxLjItMC45bDAuMS0xMGwtMC4xLTAuMWMtMC42LDAuMi0xLjMsMC43LTEuOSwwLjRjLTAuNy0wLjMtMS4zLTEtMS42LTIuNgoJCQljLTAuMi0xLjYsMC40LTMuNi0wLjEtNC41bDEuOS0wLjdjMC45LDEuNCwwLjMsMy4yLDAuMSw0LjhjMCwwLjIsMC4xLDAuNCwwLjMsMC41YzAuNS0wLjIsMS0wLjUsMS40LTAuOWwwLTQuN2wxLjItMS4xbDEuMywwLjEKCQkJYzAsMCwxLjItMS42LDEuNC0yLjJDNDQuNCw2LjEsNDguNyw0LjMsNTIuMyw1LjMiLz4KCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNTIuNSw2LjJjMC45LDAuNCwxLjIsMS4yLDEuMywyLjF2MjEuOGMtMS43LTIuOC0zLjUtMS44LTkuNC0xLjhjLTEuMiwwLTIuOS0wLjctMy40LTEuMwoJCQlDNDEsMTkuOCw0MS4yLDUsNDEuMiw1QzQ0LjUsNyw0OSw0LjcsNTIuNSw2LjIiLz4KCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNjYuNiwyNy43YzAsMC0wLjQsMC45LTMuMywwLjljLTIuNywwLjEtNy4xLTEuNS04LjksMS42VjhjMC4xLTAuOCwwLjktMS40LDEuNi0xLjdjMi43LTAuOSwzLjgsMC4yLDYuNCwwCgkJCWMyLjUtMC4xLDMuNS0wLjYsNC4yLTEuM0w2Ni42LDI3Ljd6Ii8+CgkJPHBhdGggY2xhc3M9InN0MiIgZD0iTTY4LjMsMzAuM2MtMC42LTAuNy0xLjEtMS42LTEuMy0yLjVsMC0yMi4zbDEuMywxLjlMNjguMywzMC4zeiIvPgoJCTxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik00MC42LDIyLjR2NS4zYy0wLjEsMC43LTAuNiwxLjMtMSwxLjhsMC0xMS40YzAtMy41LDAuMS03LjksMC4yLTExLjNsMS0xLjNMNDAuNiwyMi40eiIvPgoJCTxwb2x5Z29uIGNsYXNzPSJzdDAiIHBvaW50cz0iMzkuMyw2LjkgMzkuMSwzMC40IDUxLjIsMzAuOCA1MS43LDMxLjIgMzguNCwzMSAzOC41LDYuOCAJCSIvPgoJCTxwb2x5Z29uIGNsYXNzPSJzdDAiIHBvaW50cz0iMzguMSwxMS4xIDM4LDMxLjEgMzcuNSwzMS40IDM3LjQsNy43IDM4LjEsNy4xIAkJIi8+CgkJPGc+CgkJCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik02OS40LDcuMWwtMC4yLDI0LjNjLTQuMiwwLTEyLjktMC4xLTEyLjktMC4xbDAuMi0wLjRsMTIuMiwwbDAtMjMuNEw2OS40LDcuMXoiLz4KCQkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTcwLjYsNy45YzAsMC0wLjMsMjIuMi0wLjQsMjQuM2wtMC43LTAuN2wwLjMtMjQuM0w3MC42LDcuOXoiLz4KCQkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTM1LjEsOS42YzAuMSwxLjEtMC42LDIuMywwLDMuNGMwLDAtMC4xLDAuMy0wLjYsMC4yYy0wLjUsMC0wLjctMC42LTAuNy0wLjljLTAuMS0xLjMsMC40LTEuOSwwLjItMy41CgkJCQlsMS0wLjNMMzUuMSw5LjZ6Ii8+CgkJCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik03My45LDguOGMtMC42LDEuMywwLjMsMi42LDAsMy44Yy0wLjIsMC4yLTAuNywwLjItMSwwLjJjMC40LTAuNy0wLjEtMS4zLTAuNC0yLjdjLTAuMi0xLjEsMC40LTEuNiwwLjQtMS42CgkJCQlTNzMuMyw4LjgsNzMuOSw4LjgiLz4KCQkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTczLjcsMTMuM2MwLDAuMi0wLjIsMS4xLTAuOCwxLjNjLTAuNywwLjItMS43LTAuNC0yLjEtMC43YzAtMC41LDAtMS0wLjEtMS41CgkJCQlDNzEuNSwxMy4xLDcyLjcsMTMuNyw3My43LDEzLjMiLz4KCQkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTM2LjksMTQuMWMtMC43LDAuMy0xLjYsMC45LTIuMywwLjRjLTAuMy0wLjItMC40LTAuNS0wLjUtMC44YzEsMC4xLDIuMS0wLjQsMi45LTFMMzYuOSwxNC4xeiIvPgoJCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNzQsMjIuNWMtMC43LDEuOSwwLDIuOS0wLjQsMy41Yy0wLjUsMC44LTEuNywwLjItMS43LDAuMnMwLjQsMCwwLjYtMC43YzAuMi0wLjctMC41LTIuMywwLjMtMy4zTDc0LDIyLjV6IgoJCQkJLz4KCQkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTM1LjIsMjNjMC4yLDAuOCwwLDEuNi0wLjEsMi40bDAuMSwwLjdjLTAuMiwwLjItMC42LDAuMS0wLjksMGMtMC42LTEuMSwwLjQtMi40LTAuNC0zLjRsMC45LTAuMgoJCQkJQzM0LjksMjIuNSwzNS4xLDIyLjgsMzUuMiwyMyIvPgoJCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNzMuNSwyNi43Yy0wLjEsMC40LTAuNCwxLTEsMWMtMC42LDAtMS41LTAuMi0xLjgtMC45bDAtMS4yQzcxLjQsMjYuNCw3Mi40LDI3LjIsNzMuNSwyNi43Ii8+CgkJCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0zNi44LDI3Yy0wLjUsMC40LTEuNCwxLTEuOCwwLjdjLTAuMy0wLjItMC42LTAuNi0wLjYtMWMwLjksMC4yLDEuOC0wLjUsMi41LTFMMzYuOCwyN3oiLz4KCQkJPHBhdGggY2xhc3M9InN0MiIgZD0iTTUzLjgsMzFjMC4zLDAuNiwwLjEsMC41LDAsMC45Yy0xLDAuMi0xLjctMC43LTIuMy0xLjRjMCwwLTgtMC40LTExLjgtMC41YzAuNS0wLjcsMS4zLTEuMywxLjQtMi4yCgkJCQlDNDMuOSwzMC42LDUyLDI2LjksNTMuOCwzMSIvPgoJCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNNjcuOCwzMC40Yy0zLjksMC4yLTcuOCwwLTExLjYsMC4xYy0wLjQsMC43LTEuMSwxLjUtMS45LDEuM2MxLTMuNiw0LjQtMi42LDguOS0yLjZjMi41LDAsMy40LTEsMy40LTEKCQkJCUM2Ni44LDI4LjksNjcuNSwyOS45LDY3LjgsMzAuNCIvPgoJCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNTIsMzEuNWMwLDAsMC4xLDAuMSwwLjEsMC4yYy0wLjksMC4yLTE0LjQsMC4xLTE0LjQsMC4xbDAuOC0wLjVMNTIsMzEuNXoiLz4KCQkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTY5LjMsMzEuN2wwLjYsMC42bC0xNC0wLjRsMC4yLTAuM0M1NiwzMS42LDY0LjksMzEuNiw2OS4zLDMxLjciLz4KCQkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTU0LjEsMzIuN2MwLjYsMCwxLjItMC4yLDEuNi0wLjVjMC40LDAuNi0wLjEsMS41LTEuNiwxLjVjLTEuNiwwLTIuMy0xLTEuOS0xLjcKCQkJCUM1Mi44LDMyLjYsNTMuNSwzMi43LDU0LjEsMzIuNyIvPgoJCTwvZz4KCQk8cGF0aCBkPSJNNDguNiwyMi45Yy0wLjUtMC4xLTAuOC0wLjEtMS40LTAuMWMtMC41LDAtMSwwLjEtMS40LDAuMWMwLTEsMC4xLTEuOCwwLjQtMi41YzEuMywwLjEsMS44LDAuMSwyLjEsMC41CgkJCUM0OC41LDIxLjIsNDguNCwyMS43LDQ4LjYsMjIuOSBNNDkuMiwyMS4zYzAtMS43LTAuOS0xLjgtMi4yLTEuOWMtMS0wLjEtMS4yLTAuMy0xLjQtMC45aC0wLjFjLTAuMiwwLjQtMC40LDAuNy0wLjQsMS4xCgkJCWMwLDAuNCwwLjIsMC43LDAuNywwLjljLTAuNywwLjgtMC42LDIuMS0wLjcsMy42YzAuNi0wLjEsMS4zLTAuMSwxLjktMC4xYzAuNiwwLDEuMiwwLDEuOSwwLjFDNDguOSwyMyw0OS4yLDIyLjIsNDkuMiwyMS4zIi8+CgkJPHBhdGggZD0iTTYxLjYsMjIuOWMtMC41LTAuMS0wLjktMC4xLTEuNC0wLjFjLTAuNSwwLTAuOSwwLjEtMS4zLDAuMWMwLTAuMS0wLjEtMC43LTAuMS0wLjhjMC0wLjQsMC4xLTEsMC4zLTEuNgoJCQljMS4xLDAsMS43LDAsMiwwLjNDNjEuNSwyMS4xLDYxLjYsMjEuNyw2MS42LDIyLjkgTTYyLjEsMjEuMWMwLTEuNC0wLjYtMS43LTEuMi0xLjdjLTAuNCwwLTEuNywwLjEtMi4yLTAuMwoJCQljLTAuMS0wLjEtMC4yLTAuNS0wLjItMC44aC0wLjFjLTAuMSwwLjMtMC40LDAuNy0wLjQsMS4xYzAsMC40LDAuMSwwLjgsMC42LDFjLTAuNiwxLTAuNSwyLjEtMC42LDMuNmMwLjYsMCwxLjQtMC4xLDIuMS0wLjEKCQkJYzAuNiwwLDEuMiwwLDEuNywwLjFDNjEuOSwyMi45LDYyLjEsMjIuOCw2Mi4xLDIxLjEiLz4KCQk8cGF0aCBkPSJNNTEuMiwyMC4yYzAtMC43LTAuNi0xLTAuOC0xLjV2LTAuNkw1MC4zLDE4Yy0wLjIsMC4zLTAuNiwwLjgtMC42LDEuMmMwLDAuMywwLjEsMC42LDAuMywwLjhjMC4yLDAuMywwLjMsMC41LDAuNCwwLjYKCQkJYzAuMSwwLjEsMC4xLDAuNSwwLjEsMC42aDAuMUM1MC44LDIwLjksNTEuMiwyMC41LDUxLjIsMjAuMiIvPgoJCTxwYXRoIGQ9Ik02NC4yLDE5LjhjMC0wLjctMC44LTAuNi0wLjktMS4yYy0wLjEtMC4xLDAtMC40LDAuMS0wLjZoLTAuMWMtMC4zLDAuMy0wLjYsMC44LTAuNiwxLjJjMCwwLjMsMC4xLDAuNiwwLjMsMC44CgkJCWMwLjEsMC4xLDAuNSwwLjMsMC41LDAuNWMwLjEsMC4xLDAuMSwwLjYsMC4xLDAuOGwwLjIsMC4xQzYzLjksMjAuOCw2NC4yLDIwLDY0LjIsMTkuOCIvPgoJCTxwYXRoIGQ9Ik01OC43LDE1LjFjLTAuNi0wLjctMC4xLTIuNC0wLjYtMy40Yy0wLjEtMC4xLTAuNC0wLjItMC43LTAuMmgtMS4zYy0wLjMsMC0wLjUtMC4zLTAuNi0wLjhoLTAuMQoJCQljLTAuMiwwLjMtMC4yLDAuNi0wLjIsMC44YzAsMC44LDAuNiwxLjIsMSwxLjJjMC42LDAsMS4zLTAuMywxLjYsMC4yYzAuMSwwLjEsMC4xLDAuNSwwLjEsMS4yYzAsMC44LTAuMSwxLjYtMC4xLDEuOWgwLjEKCQkJQzU4LjMsMTUuOCw1OC41LDE1LjQsNTguNywxNS4xIi8+CgkJPHBhdGggZD0iTTUwLjksMTUuMWMtMC42LTAuNi0wLjEtMy4zLTAuNy0zLjZjLTAuMy0wLjEtMC41LTAuMS0wLjgtMC4xYy0wLjQsMC0wLjcsMC4xLTEsMC4xYy0wLjQsMC0wLjYtMC4yLTAuOC0xaC0wLjEKCQkJYy0wLjEsMC4zLTAuMSwwLjYtMC4xLDAuOWMwLDAuNiwwLjEsMS4xLDAuNywxLjNjLTAuMSwwLjQtMC4xLDAuNy0wLjEsMWMwLDAuMywwLDAuNywwLjEsMS4yYy0wLjYsMC4yLTAuNywwLjItMC44LDAuMwoJCQljLTAuMSwwLjEtMC4xLDAuNC0wLjMsMC45YzEuNSwwLDEuOS0wLjIsMS45LTAuN2MwLTAuNC0wLjUtMS4yLTAuNS0yYzAtMC4zLDAuMS0wLjUsMC4yLTAuN2MwLjUsMCwwLjktMC4yLDEuNCwwCgkJCWMwLjMsMC4xLDAuMywwLjgsMC4zLDEuNWMwLDAuOC0wLjEsMS42LTAuMSwxLjloMC4xQzUwLjUsMTUuOCw1MC44LDE1LjQsNTAuOSwxNS4xIi8+CgkJPHBhdGggZD0iTTYwLjgsMTUuMVYxNWMtMC4xLTAuMS0wLjEtMC4xLTAuMi0wLjJjLTAuMi0wLjMtMC4yLTAuOS0wLjItMS4zYzAtMC4yLDAuMS0wLjQsMC4xLTAuNmMwLjEtMC4zLDAuMy0wLjUsMC4zLTEKCQkJYzAtMC41LTAuNS0wLjUtMC45LTAuNWMtMC4zLDAtMC42LTAuMS0wLjYtMC4zYy0wLjEtMC4xLTAuMS0wLjQtMC4yLTAuNUg1OWMtMC4xLDAuMy0wLjIsMC43LTAuMiwxYzAsMC44LDAuMywxLjIsMS4zLDEuMgoJCQljLTAuMSwwLjgtMC4xLDEuNC0wLjEsMi4yYzAsMC4zLDAsMC43LDAuMSwxLjFoMC4xQzYwLjQsMTUuOCw2MC42LDE1LjYsNjAuOCwxNS4xIi8+CgkJPHBhdGggZD0iTTQ2LjksMTIuOWMwLTAuOC0wLjYtMC45LTEuMi0xLjJjLTAuNC0wLjItMC43LTAuNS0wLjYtMS40aC0wLjJjLTAuNCwwLjUtMC42LDAuOC0wLjgsMS4yYy0wLjQsMC0xLTAuNS0wLjgtMS4yaC0wLjEKCQkJYy0wLjQsMC4zLTAuNSwwLjctMC41LDEuMWMwLDAuNSwwLjMsMC45LDAuOCwxLjJjLTAuMiwwLjQtMC44LDEtMC44LDEuNWMwLDAuNSwwLjEsMSwwLjEsMS4yYzAsMC4zLDAsMC41LTAuMSwwLjYKCQkJYy0wLjEsMC0wLjEsMC4xLDAuMSwwLjFjMC4zLTAuMywwLjctMC43LDAuNy0xLjVjMC0wLjMtMC4xLTAuNy0wLjEtMWMwLTAuNSwwLjUtMSwwLjgtMS41YzAuOCwwLjQsMi4xLDAuNiwyLjEsMS42CgkJCWMwLDAuMy0wLjIsMC44LTAuNSwxYy0wLjEsMC4xLTAuNSwwLjEtMC44LDAuMWgtMWMtMC4xLDAuNC0wLjIsMC43LTAuNCwxLjFoMC4yYzAuMSwwLDAuNC0wLjEsMC42LTAuMWMwLjQsMCwwLjYsMC4xLDAuOCwwLjEKCQkJYzAuNiwwLDAuOS0wLjMsMS4yLTEuMkM0Ni42LDE0LjQsNDYuOSwxMy42LDQ2LjksMTIuOSIvPgoJCTxwYXRoIGQ9Ik01MywxNS4xdi0wLjFjLTAuMSwwLTAuMi0wLjEtMC4zLTAuMmMtMC4xLTAuMi0wLjEtMC44LTAuMS0xLjNjMC0wLjEsMC4xLTAuNCwwLjEtMC42YzAuMS0wLjIsMC4zLTAuNSwwLjMtMQoJCQljMC0wLjMtMC41LTAuNC0xLTAuNWMtMC4zLTAuMS0wLjUtMC4yLTAuNi0wLjRjLTAuMS0wLjEtMC4xLTAuMy0wLjItMC41aC0wLjFjLTAuMSwwLjQtMC4xLDAuNy0wLjEsMWMwLDAuOCwwLjIsMS4xLDEuMywxLjEKCQkJYy0wLjEsMC41LTAuMSwwLjktMC4xLDEuNGMwLDAuNi0wLjEsMS40LTAuMSwxLjloMC4yQzUyLjYsMTUuNyw1Mi44LDE1LjYsNTMsMTUuMSIvPgoJCTxwYXRoIGQ9Ik02NS41LDE0LjVjMC0wLjUtMC4yLTAuOC0wLjYtMS4xYy0wLjEtMC4xLTAuMy0wLjMtMC4zLTAuM2MwLjMtMC4zLDAuOC0wLjcsMC44LTEuMmMwLTAuMi0wLjEtMC40LTAuMi0wLjYKCQkJYy0wLjEtMC4xLTAuNC0wLjItMC41LTAuNGMtMC4xLTAuMi0wLjEtMC4zLDAtMC41bC0wLjEtMC4xYy0wLjMsMC4zLTAuNiwwLjYtMC42LDFjMCwwLjgsMSwwLjcsMC4zLDEuN2MtMS0wLjUtMi4zLTEtMi4xLTIuNUg2MgoJCQljLTAuMywwLjMtMC41LDAuOC0wLjUsMS4xYzAsMC44LDAuNiwxLjQsMS4xLDEuN2MtMC4zLDAuMS0wLjQsMC4yLTAuNSwwLjNjLTAuMywwLjItMC4zLDAuNS0wLjMsMC44YzAsMC4zLDAsMC42LDAuMSwwLjkKCQkJbC0wLjUsMC4zdjAuMmMwLjcsMC4xLDEuNiwwLjMsMS42LTAuN2MwLTAuMy0wLjUtMC43LTAuNS0wLjljMC0wLjQsMC4zLTAuNiwwLjMtMC44YzAuOCwwLjQsMS45LDAuOCwxLjksMS43YzAsMC4yLDAsMC41LTAuMSwwLjcKCQkJaDAuMkM2NS4zLDE1LjUsNjUuNSwxNC45LDY1LjUsMTQuNSIvPgoJPC9nPgoJPGc+CgkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTc2LjcsOTUuMWMyLjYsMi42LDYuNywyLjYsOS4yLDBjMi42LTIuNiwyLjYtNi43LDAtOS4yYy0yLjYtMi42LTYuNy0yLjYtOS4yLDAKCQkJQzc0LjEsODguNCw3NC4xLDkyLjYsNzYuNyw5NS4xIi8+CgkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTYyLjMsMTA5LjVjMi42LDIuNiw2LjcsMi42LDkuMiwwYzIuNi0yLjYsMi42LTYuNywwLTkuMmMtMi42LTIuNi02LjctMi42LTkuMiwwCgkJCUM1OS44LDEwMi44LDU5LjgsMTA2LjksNjIuMywxMDkuNSIvPgoJCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0zNi4xLDEwMC4yYy0yLjYsMi42LTIuNiw2LjcsMCw5LjJjMi42LDIuNiw2LjcsMi42LDkuMiwwYzIuNi0yLjYsMi42LTYuNywwLTkuMgoJCQlDNDIuOCw5Ny43LDM4LjcsOTcuNywzNi4xLDEwMC4yIi8+CgkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTIxLjgsODUuOWMtMi42LDIuNi0yLjYsNi43LDAsOS4yYzIuNiwyLjYsNi43LDIuNiw5LjIsMGMyLjYtMi42LDIuNi02LjcsMC05LjIKCQkJQzI4LjUsODMuMywyNC40LDgzLjMsMjEuOCw4NS45Ii8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBjbGFzcz0ic3QzIiBkPSJNMzYuMSw1NC42YzIuNiwyLjYsNi43LDIuNiw5LjIsMGMyLjYtMi42LDIuNi02LjcsMC05LjJjLTIuNi0yLjYtNi43LTIuNi05LjIsMEMzMy42LDQ3LjksMzMuNiw1MiwzNi4xLDU0LjYKCQkJIi8+CgkJPHBhdGggY2xhc3M9InN0MyIgZD0iTTIxLjgsNjguOWMyLjYsMi42LDYuNywyLjYsOS4yLDBjMi42LTIuNiwyLjYtNi43LDAtOS4yYy0yLjYtMi42LTYuNy0yLjYtOS4yLDAKCQkJQzE5LjIsNjIuMiwxOS4yLDY2LjQsMjEuOCw2OC45Ii8+CgkJPHBhdGggY2xhc3M9InN0MyIgZD0iTTc2LjcsNTkuN2MtMi42LDIuNi0yLjYsNi43LDAsOS4yYzIuNiwyLjYsNi43LDIuNiw5LjIsMGMyLjYtMi42LDIuNi02LjcsMC05LjIKCQkJQzgzLjQsNTcuMSw3OS4yLDU3LjEsNzYuNyw1OS43Ii8+CgkJPHBhdGggY2xhc3M9InN0MyIgZD0iTTYyLjMsNDUuM2MtMi42LDIuNi0yLjYsNi43LDAsOS4yYzIuNiwyLjYsNi43LDIuNiw5LjIsMGMyLjYtMi42LDIuNi02LjcsMC05LjJDNjksNDIuOCw2NC45LDQyLjgsNjIuMyw0NS4zCgkJCSIvPgoJPC9nPgoJPGc+CgkJPHBvbHlnb24gY2xhc3M9InN0MCIgcG9pbnRzPSI1My45LDUyLjggMjkuNyw3NyA3OC4xLDc3IAkJIi8+CgkJPHBvbHlnb24gY2xhc3M9InN0MyIgcG9pbnRzPSI1My45LDEwMiA3OC4xLDc3LjggMjkuNiw3Ny44IAkJIi8+Cgk8L2c+CjwvZz4KPC9zdmc+Cg==";

        //$placeLeft = document.getElementById('placeLeft');
        //$placeRight = document.getElementById('placeRight');



        var queryString = window.location.search;
        var urlParams = new URLSearchParams(queryString);
        var firstVal  = urlParams.get('first');
        var lastVal = urlParams.get('last');
        var pronounsVal = urlParams.get('pronouns');
        var cohortVal = urlParams.get('cohort');

        $radialParm = urlParams.get('r');

        if (firstVal){$first.value = firstVal};
        if (lastVal){$last.value = lastVal};
        if (pronounsVal){$pronouns.value = pronounsVal};
        if (cohortVal){$cohort.value = cohortVal};



        bind();

        if (firstVal && lastVal && pronounsVal){
            updateImage();
        }
    }


    function drawHD(){
        draw(ctxhd, 1920, 1080);
            document.getElementById('explanation').style="display:block";

            var type = 'jpg',
                w = 1920,
                h = 1080;
            $imgs.innerHTML = '';
            $imgs.appendChild(Canvas2Image.convertToImage(canvashd, w, h, type))
    }


    function draw43(){
        draw(ctxorig, 1600, 1200);
            document.getElementById('explanation').style="display:block";


            var type = 'jpg',
                w = 1600,
                h = 1200;
            $imgs.innerHTML = '';
            $imgs.appendChild(Canvas2Image.convertToImage(canvas, w, h, type))
    }   

    function updateImage(){
        if ($optionHD.checked){
            drawHD();
        }else{
            draw43();
        }

    }


    function bind () {

        $createimage.onclick = function (e) {
            updateImage();
            if ($optionHD.checked){
                Canvas2Image.saveAsImage(canvashd, 1920, 1080, 'jpg');
            }else {
                Canvas2Image.saveAsImage(canvas, 1600, 1200, 'jpg');

            }
        }

        $last.oninput = function (e) {
            updateImage();
        } 
        $first.oninput = function (e) {
            updateImage();
        }
		$pronouns.oninput = function (e) {
            updateImage();
        }
        $cohort.onchange = function (e) {
            updateImage();
        }

        $option43.oninput = function (e) {
            updateImage();
        }
        $optionHD.oninput = function (e) {
            updateImage();
        }


    }



    function draw(ctx, w, h) {

        // simplified version, but does first name bigger

        // another option, "spotlight" radial gradient
        //var radialGrd = ctx.createRadialGradient(w/2, h*.9, 400, w/2, h*.9, h);
        //radialGrd.addColorStop(0, "#A5ACAF");
        //radialGrd.addColorStop(1, "#232D4B"); 

        ctx.fillStyle = '#000440';
        ctx.fillRect(0,0,w,h);

        ctx.fillStyle = '#ffffff';
        ctx.font = "bold 150px 'NeueHaasUnicaPro',Arial";

        var rightMargin = 50;
        var topMargin = 50;
        var verticalLineWidth = 60;
        
        var firstMeasurement = ctx.measureText($first.value).width;

        // last name will be smaller
        ctx.font = "bold 100px 'NeueHaasUnicaPro',Arial";

        var lastMeasurement = ctx.measureText($last.value).width;

        ctx.font = "40px 'NeueHaasUnicaPro',Arial"

        var pronounMeasurement = ctx.measureText($pronouns.value).width;
        
        var maxWidth = Math.max(firstMeasurement, lastMeasurement, pronounMeasurement)

        var firstLineBase = 160;
        var secondLineBase = 280;
		var thirdLineBase = 340;
           
        //maxWidth = w*.36;
        /*if (maxWidth > (w*.36)){
            maxWidth = w*.36;
        }*/
        
        
        ctx.font = "bold 150px 'NeueHaasUnicaPro',Arial";
        ctx.fillText($first.value, 400, firstLineBase, maxWidth );

        ctx.font = "bold 100px 'NeueHaasUnicaPro',Arial";
        ctx.fillText($last.value, 400, secondLineBase, maxWidth );

        ctx.font = "40px 'NeueHaasUnicaPro',Arial"
        ctx.fillText($pronouns.value, 400, thirdLineBase, maxWidth );

        ctx.fillStyle = $cohort.value;
        ctx.fillRect(0, 0, verticalLineWidth, h);

        ctx.drawImage($logo, 130, 50, 200, 200 * $logo.height / $logo.width);

    }
      
    onload = init;
</script>
</body>
</html>